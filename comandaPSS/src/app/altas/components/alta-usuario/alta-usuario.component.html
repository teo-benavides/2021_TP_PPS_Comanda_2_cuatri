<ion-content class="ion-padding">
  <div class="centerFlex">
    <div class="conteiner">
      <ion-header>
        <ion-toolbar color="primary">
          <ion-title>Crear nuevo {{ type }}</ion-title>
          <ion-buttons slot="end">
            <ion-button (click)="cancelar()">
              <ion-icon name="close-outline"></ion-icon>
            </ion-button>
          </ion-buttons>
        </ion-toolbar>
      </ion-header>
      <form [formGroup]="formUsuario" (ngSubmit)="submit()" #form>
        <ion-avatar (click)="getFoto()">
          <img [src]="foto !== '' ? foto : 'assets/user.png'" />
        </ion-avatar>

        <ion-item *ngIf="isConfirm">
          <ion-label position="floating">Perfil</ion-label>
          <ion-select
            formControlName="perfil"
            placeholder="Seleccione perfil"
            (ionChange)="createForm(formUsuario.value['perfil'])"
          >
            <ion-select-option value="dueño">dueño</ion-select-option>
            <ion-select-option value="supervisor">supervisor</ion-select-option>
            <ion-select-option value="bartender">bartender</ion-select-option>
            <ion-select-option value="metre">metre</ion-select-option>
            <ion-select-option value="mozo">mozo</ion-select-option>
            <ion-select-option value="cocinero">cocinero</ion-select-option>
            <ion-select-option value="cliente">cliente</ion-select-option>
          </ion-select>
        </ion-item>

        <div id="inputs">
          <ion-item>
            <ion-label position="floating">Nombre</ion-label>
            <ion-input
              required
              formControlName="nombre"
              type="text"
            ></ion-input>
          </ion-item>

          <ion-item *ngIf="formUsuario.value['apellido'] !== undefined">
            <ion-label position="floating">Apellido</ion-label>
            <ion-input
              required
              formControlName="apellido"
              type="text"
            ></ion-input>
          </ion-item>

          <ion-item *ngIf="formUsuario.value['dni'] !== undefined">
            <ion-label position="floating">DNI</ion-label>
            <ion-input required formControlName="dni" type="number"></ion-input>
            <ion-icon
              id="dni"
              slot="end"
              name="qr-code-outline"
              (click)="getDNI()"
            ></ion-icon>
          </ion-item>

          <ion-item *ngIf="formUsuario.value['cuil'] !== undefined">
            <ion-label position="floating">CUIL</ion-label>
            <ion-input
              required
              formControlName="cuil"
              type="number"
            ></ion-input>
          </ion-item>

          <ion-item *ngIf="formUsuario.value['correo'] !== undefined">
            <ion-label position="floating">Correo</ion-label>
            <ion-input
              required
              formControlName="correo"
              type="text"
            ></ion-input>
          </ion-item>

          <ion-item *ngIf="formUsuario.value['clave'] !== undefined">
            <ion-label position="floating">Clave </ion-label>
            <ion-input required formControlName="clave" type="text"></ion-input>
          </ion-item>
        </div>

        <ion-button
          color="primary"
          type="submit"
          expand="block"
          fill="clear"
          shape="round"
          [disabled]="formUsuario.invalid"
        >
          {{ type === "anonimo" ? "Ingresar" : "Registrarse" }}
        </ion-button>
      </form>
    </div>
  </div>
</ion-content>
